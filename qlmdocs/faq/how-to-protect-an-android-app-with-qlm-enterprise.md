# How to protect an Android App with QLM Enterprise

QLM Enterprise can protect Android applications developed in Java or in C# (Xamarin) with permanent, trial, and device-bound keys.

A Java package (source code included) exposes an API that enables you to provide your customers with an evaluation of your software and then turn it at any time into a permanent license, or simply extend it for subscription-based applications.

The Java package along with a sample application are provided in the following QLM Pro samples folder:\
\
%Public%\documents\quick license manager\samples\qlmenterprise\Android\Java\Qlm.Vendor.App

The sample contains 2 packages: com.soraco.qlm and com.vendor.app

**com.soraco.qlm** is the package that performs the license validation, activation, encryption, etc. You typically do not need to change any code in this package. The QlmLicense class in this package is the main class you need to interact with. The most common methods of this class are documented in the help under "Quick License Manager Enterprise / Non-Windows Platforms / Mobile Devices API".

**com.vendor.app** simulates your application. When the application is launched, the ValidateActivity class checks if a license has ever been activated on the device. If no key was ever activated, the PrefsActivity is started to allow the user to enter an Activation Key and activate it.

Use the QLM Pro Application to create an Activation Key from the Manage Keys tab. Note that activation keys can be created from your server using our API or directly from one of the ecommerce providers integrated with QLM. For a full list of ecommerce providers integrated with QLM, check the help or our website.

Once the user enters the Activation Key, the PrefsActivity class calls the QlmLicense.ActivateLicense method. If activation is successful, encrypted license information is stored on the device. QLM uses RSA asymmetric encryption to store license information on the device. The RSA public/private key pair is automatically generated by QLM when you define a product in the QLM Application Define Products page. The keys are displayed on the Encryption Keys tab / Mobile Devices Encryption.

Note that the encrypted data stored on the device is encrypted on the QLM server using the RSA private key and decrypted on the device using the RSA public key.

On the Android application, the RSA public key must be stored in a file called QlmPublicKey.xml in the assets folder.

In the event a client does not have an internet connection to activate a license online, you can perform an **offline activation** as described below:

* In the QLM application, under the Manage Keys tab, locate and select the license to activate.
* Click on the Activate button.
* Fill in the Computer ID field on the Activation tab along with other fields as required.
* Click on the **Advanced** tab.
* Select a location where you would like to store a license file then click OK.
* Send the generated license file to your customer and ask them to copy it to the folder where your application expects the license file to be located.
