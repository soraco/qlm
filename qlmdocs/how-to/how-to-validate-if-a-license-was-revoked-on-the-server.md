# How to validate if a license was revoked on the server?

As of version QLM12, please follow the instructions in this [article](https://support.soraco.co/hc/en-us/articles/360025213372-When-does-a-QLM-protected-application-connect-to-the-License-Server-).

To verify if a license was revoked on the server or if a license is illegal, add the code below to your application. If you are using the **LicenseValidator** class generated by the Protect Your Application wizard, simply set the **checkIfLicenseIsRevoked** property to true.

You can find the definition of an "Illegal Computer" in the QLM online help.

To revoke a license, locate the license in the Manage Keys tab, click on the Edit button and check the "Disabled" checkbox.

public bool VerifyLicenseOnServer ()        {            bool ret = false;

&#x20;           string webServiceUrl = "[https://qlm3.net/qlmdemo/qlmLicenseServer/qlmservice.asmx](https://qlm3.net/qlmdemo/qlmLicenseServer/qlmservice.asmx)";

&#x20;           string response;            string qlmVersion = "5.0.00";            string storedActivationKey = string.Empty;            string storedComputerKey = string.Empty;            string computerID = System.Environment.MachineName;            string computerName = System.Environment.MachineName;

&#x20;           QLM.LicenseValidator lv = new QLM.LicenseValidator();            lv.QlmLicense.ReadKeys(ref storedActivationKey, ref storedComputerKey);

&#x20;           if (!String.IsNullOrEmpty(storedActivationKey))            {

&#x20;               if (lv.QlmLicense.IsLicenseKeyRevoked(webServiceUrl, storedActivationKey))                {                    MessageBox.Show(String.Format ("License key {0} was revoked.", storedActivationKey));                }                else if (lv.QlmLicense.IsIllegalComputer(webServiceUrl, storedActivationKey, storedComputerKey, computerID, computerName, qlmVersion, out response))                {                    ILicenseInfo li = new LicenseInfo();                    string message = string.Empty;                    lv.QlmLicense.ParseResults(response, ref li, ref message);                    MessageBox.Show("Illegal Computer License: " + message);                }                else                {                    ret = true;                }                        }            return ret;

&#x20;   }
